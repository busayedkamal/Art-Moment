@tailwind base;
@tailwind components;
@tailwind utilities;

/* تفعيل اتجاه اللغة العربية افتراضيًا */
html {
  direction: rtl;
}

/* تنسيق أساسي للصفحة */
body {
  margin: 0;
  font-family: 'Cairo', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f7f7f7;
  color: #0f172a;
}

/* مكوّنات عامة لهوية لحظة فن */
@layer components {
  /* أزرار عامة لهوية لحظة فن */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-1
      px-3 py-2 md:px-4 md:py-2
      rounded-xl text-xs md:text-sm font-medium
      bg-fuchsia-500 text-white
      hover:bg-gradient-to-b from-fuchsia-600 to-purple-600
      disabled:bg-fuchsia-300 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-1
      px-3 py-2 md:px-4 md:py-2
      rounded-xl text-xs md:text-sm font-medium
      border border-slate-300 text-slate-700
      hover:bg-slate-50;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center gap-1
      px-2.5 py-1.5
      rounded-xl text-[11px] md:text-xs font-medium
      text-slate-600 hover:bg-slate-100;
  }

  .heading-main {
    @apply text-lg md:text-2xl font-bold text-slate-900;
  }

  .card {
    @apply bg-white rounded-2xl shadow-sm border border-slate-200
      p-4 md:p-5;
  }
}

/* الفاتورة لا تظهر في الوضع العادي */
.invoice-print-root {
  display: none;
}

/* إعدادات الطباعة */
@media print {
  html, body {
    margin: 0;
    padding: 0;
    background: #ffffff;
    height: 100%;
  }

  /* إخفاء كل شيء في الصفحة */
  body * {
    visibility: hidden;
  }

  /* إظهار الفاتورة فقط */
  .invoice-print-root,
  .invoice-print-root * {
    visibility: visible;
  }

  .invoice-print-root {
    display: block;
    position: static;
    padding: 0;
    background: #ffffff;
    direction: rtl;
    font-family: 'Cairo', system-ui, -apple-system, "Segoe UI", sans-serif;
  }

  /* الكرت الرئيسي للفاتورة */
  .invoice-print-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 24px 32px;
    border: none;
    box-shadow: none;
    border-radius: 0;
    font-size: 11pt;
    line-height: 1.7;
    color: #111827;
  }

  /* الشعار في الطباعة */
  .invoice-print-card img {
    max-height: 42px;
    width: auto;
  }

  /* تنسيقات النصوص */
  .invoice-print-card .font-semibold {
    font-weight: 700 !important;
  }

  .invoice-print-card .text-xs,
  .invoice-print-card .text-\[11px\] {
    font-size: 9pt !important;
  }

  /* ترويسة الفاتورة */
  .invoice-print-card > .flex {
    margin-bottom: 6px;
  }

  .invoice-print-card hr {
    margin: 6px 0 10px;
    border: 0;
    border-top: 1px solid #e5e7eb;
  }

  /* الجداول داخل الفاتورة */
  .invoice-print-card table {
    width: 100%;
    border-collapse: collapse;
    font-size: 9pt;
  }

  .invoice-print-card th,
  .invoice-print-card td {
    border: 1px solid #e5e7eb;
    padding: 4px 6px;
    text-align: right;
  }

  .invoice-print-card thead {
    background: #f3f4f6;
    /* ضمان ظهور الخلفية الرمادية عند الطباعة */
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* تذييل الفاتورة */
  .invoice-print-card .mt-4.text-\[11px\].text-slate-500.text-center {
    margin-top: 16px;
    font-size: 9pt !important;
    color: #6b7280;
  }
  @media print {
  /* 1. إعدادات الصفحة */
  @page {
    size: A4;
    margin: 0; /* إلغاء هوامش الطابعة الافتراضية */
  }

  /* 2. ضبط الهيكل العام */
  body, html {
    height: auto !important;
    overflow: visible !important;
    background-color: white !important;
  }

  /* 3. إخفاء كل شي في الموقع */
  body * {
    visibility: hidden;
  }

  /* 4. إظهار منطقة الفاتورة فقط */
  #printable-invoice,
  #printable-invoice * {
    visibility: visible;
  }

  /* 5. تموضع الفاتورة لتغطي الصفحة بالكامل */
  #printable-invoice {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 0;
    background-color: white;
    z-index: 9999; /* ضمان الظهور فوق أي شيء */
  }

  /* 6. ضمان طباعة الألوان والخلفيات */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}
}